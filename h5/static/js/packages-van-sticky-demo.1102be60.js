(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["packages-van-sticky-demo"],{"0d73":function(t,e,n){"use strict";n("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{container:null,scrollTop:0,offsetTop:0,pageScrollTop:0}},onPageScroll:function(t){this.pageScrollTop=t.scrollTop,this.setContainer()},methods:{onScroll:function(t){var e=this;uni.createSelectorQuery().select("#scroller").boundingClientRect((function(n){e.scrollTop=t.detail.scrollTop,e.offsetTop=n.top})).exec()},setContainer:function(){var t=this;uni.createSelectorQuery().select("#container").boundingClientRect((function(e){t.container=e})).exec()}}};e.default=o},"1c86":function(t,e,n){"use strict";n.r(e);var o=n("0d73"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},"2b98":function(t,e,n){var o=n("e445");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("3c23e58c",o,!0,{sourceMap:!1,shadowMode:!1})},"323f":function(t,e,n){"use strict";var o=n("573b"),i=n.n(o);i.a},"367b":function(t,e,n){"use strict";var o=n("2b98"),i=n.n(o);i.a},4516:function(t,e,n){"use strict";var o=n("4ea4");n("99af"),n("d81d"),n("13d5"),n("a9e3"),n("b64b"),n("d3b7"),n("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("79c1")),r=n("a17f"),a=n("cd99"),c=".van-sticky",s=(0,r.VantComponent)({props:{zIndex:{type:Number,default:99},offsetTop:{type:Number,default:0},disabled:{type:Boolean},container:{type:Object,default:function(){}},scrollTop:{type:null}},data:function(){return{fixed:!1,transform:0,height:0}},computed:{wrapClass:function(){return i.default.bem("sticky-wrap",{fixed:this.fixed})},wrapStyle:function(){var t="";return this.transform&&(t+="transform: translate3d(0, "+this.transform+"px, 0);"),this.fixed&&(t+="top: "+(this.offsetTop+this.height)+"px;"),this.zIndex&&(t+="z-index: "+this.zIndex+";"),t},containerClass:function(){return"custom-class ".concat(this.customClass," van-sticky van-sticky-").concat(this._uid)},containerStyle:function(){var t="";return this.fixed&&(t+="height: "+this.height+"px;"),this.zIndex&&(t+="z-index: "+this.zIndex+";"),t}},watch:{offsetTop:function(){this.onScroll()},disabled:function(){this.onScroll()},scrollTop:function(){this.onScroll()}},mounted:function(){this.onScroll()},methods:{onScroll:function(){var t=this,e=this.container,n=this.offsetTop,o=this.disabled;if(o)this.setDataAfterDiff({fixed:!1,transform:0});else{var i=c;this.getRect(i).then((function(o){(0,a.isObj)(e)?n+o.height>e.height+e.top?t.setDataAfterDiff({fixed:!1,transform:e.height-o.height}):n>=o.top?t.setDataAfterDiff({fixed:!0,height:o.height,transform:0}):t.setDataAfterDiff({fixed:!1,transform:0}):n>=o.top?(t.setDataAfterDiff({fixed:!0,height:o.height}),t.transform=0):t.setDataAfterDiff({fixed:!1})}))}},setDataAfterDiff:function(t){var e=this;this.$nextTick((function(){var n=Object.keys(t).reduce((function(n,o){return t[o]!==e[o]&&(n[o]=t[o]),n}),{});Object.keys(n).map((function(t){e[t]=n[t]})),e.$emit("scroll",{scrollTop:e.scrollTop,isFixed:t.fixed||e.fixed})}))},getContainerRect:function(){var t=this.container();return new Promise((function(e){return t.boundingClientRect(e).exec()}))}}});e.default=s},"53ca":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}},"573b":function(t,e,n){var o=n("cc90");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("bd58de40",o,!0,{sourceMap:!1,shadowMode:!1})},5810:function(t,e,n){"use strict";n.r(e);var o=n("4516"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},b450:function(t,e,n){"use strict";n.r(e);var o=n("ee7d"),i=n("1c86");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("323f");var a,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"106224ce",null,!1,o["a"],a);e["default"]=s.exports},cc90:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,"uni-page-body[data-v-106224ce]{height:200vh}.van-button[data-v-106224ce]{margin-left:16px}.sticky-container[data-v-106224ce]{position:relative;z-index:-1;height:150px;background-color:#fff}",""]),t.exports=e},cd99:function(t,e,n){"use strict";var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.isDef=r,e.isObj=a,e.isNumber=c,e.range=s,e.nextTick=f,e.getSystemInfoSync=l,e.addUnit=d;var i=o(n("53ca"));function r(t){return void 0!==t&&null!==t}function a(t){var e=(0,i.default)(t);return null!==t&&("object"===e||"function"===e)}function c(t){return/^\d+(\.\d+)?$/.test(t)}function s(t,e,n){return Math.min(Math.max(t,e),n)}function f(t){setTimeout((function(){t()}),1e3/30)}var u=null;function l(){return null==u&&(u=uni.getSystemInfoSync()),u}function d(t){if(r(t))return t=String(t),c(t)?"".concat(t,"px"):t}},e445:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".van-sticky[data-v-73eca918]{position:relative}.van-sticky-wrap--fixed[data-v-73eca918]{position:fixed;right:0;left:0}",""]),t.exports=e},ee61:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:t.containerClass,style:t.containerStyle},[n("v-uni-view",{class:t.wrapClass,style:t.wrapStyle},[t._t("default")],2)],1)},r=[]},ee7d:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var o={demoBlock:n("e29a").default,vanSticky:n("f724").default,vanButton:n("9e06").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("demo-block",{attrs:{title:"基础用法"}},[n("van-sticky",{attrs:{"scroll-top":t.pageScrollTop}},[n("van-button",{attrs:{type:"primary","custom-style":"margin-left: 15px"}},[t._v("基础用法")])],1)],1),n("demo-block",{attrs:{title:"吸顶距离"}},[n("van-sticky",{attrs:{"offset-top":50,"scroll-top":t.pageScrollTop}},[n("van-button",{attrs:{type:"info","custom-style":"margin-left: 115px"}},[t._v("吸顶距离")])],1)],1),n("demo-block",{attrs:{title:"指定容器"}},[n("v-uni-view",{staticStyle:{height:"150px","background-color":"#fff"},attrs:{id:"container"}},[n("van-sticky",{attrs:{container:t.container,"scroll-top":t.pageScrollTop}},[n("van-button",{attrs:{type:"warning","custom-style":"margin-left: 215px;"}},[t._v("指定容器")])],1)],1)],1),n("demo-block",{attrs:{title:"嵌套在 scroll-view 内使用"}},[n("v-uni-scroll-view",{staticStyle:{height:"200px","background-color":"#fff"},attrs:{"scroll-y":!0,id:"scroller"},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.onScroll.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{height:"400px","padding-top":"50px"}},[n("van-sticky",{attrs:{"scroll-top":t.scrollTop,"offset-top":t.offsetTop}},[n("van-button",{attrs:{type:"warning"}},[t._v("嵌套在 scroll-view 内")])],1)],1)],1)],1)],1)},r=[]},f724:function(t,e,n){"use strict";n.r(e);var o=n("ee61"),i=n("5810");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("367b");var a,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"73eca918",null,!1,o["a"],a);e["default"]=s.exports}}]);