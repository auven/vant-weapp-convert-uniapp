(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["packages-van-circle-demo"],{"137d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GRAY_DARK=t.GRAY=t.ORANGE=t.GREEN=t.WHITE=t.BLUE=t.RED=void 0;var r="#ee0a24";t.RED=r;var a="#1989fa";t.BLUE=a;var i="#ffffff";t.WHITE=i;var c="#07c160";t.GREEN=c;var l="#ff976a";t.ORANGE=l;var o="#323233";t.GRAY=o;var u="#969799";t.GRAY_DARK=u},"19b2":function(e,t,n){"use strict";function r(e){return Object.assign(e,{setStrokeStyle:function(t){e.strokeStyle=t},setLineWidth:function(t){e.lineWidth=t},setLineCap:function(t){e.lineCap=t},setFillStyle:function(t){e.fillStyle=t},setFontSize:function(t){e.font=String(t)},setGlobalAlpha:function(t){e.globalAlpha=t},setLineJoin:function(t){e.lineJoin=t},setTextAlign:function(t){e.textAlign=t},setMiterLimit:function(t){e.miterLimit=t},setShadow:function(t,n,r,a){e.shadowOffsetX=t,e.shadowOffsetY=n,e.shadowBlur=r,e.shadowColor=a},setTextBaseline:function(t){e.textBaseline=t},createCircularGradient:function(){},draw:function(){}})}Object.defineProperty(t,"__esModule",{value:!0}),t.adaptor=r},"1bb9":function(e,t,n){"use strict";n("cb29"),n("d81d"),n("4e82"),n("a9e3"),n("b64b"),n("d3b7"),n("acd8"),n("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("a17f"),a=n("cd99"),i=n("137d");n("19b2");function c(e){return Math.min(Math.max(e,0),100)}var l=2*Math.PI,o=-Math.PI/2,u=1,s=(0,r.VantComponent)({props:{circleId:{type:String,default:"van-circle"},text:String,lineCap:{type:String,default:"round"},value:{type:[String,Number],default:0},speed:{type:Number,default:50},size:{type:[String,Number],default:100},fill:String,layerColor:{type:String,default:i.WHITE},color:{type:[String,Object],default:i.BLUE},type:{type:String,default:""},strokeWidth:{type:Number,default:4},clockwise:{type:Boolean,default:!0}},data:function(){return{uid:0}},watch:{value:function(){this.reRender()},size:function(){this.drawCircle(this.currentValue)},color:function(){var e=this;this.setHoverColor().then((function(){e.drawCircle(e.currentValue)}))}},created:function(){this.uid=this._uid;var e=this.value;this.currentValue=e},mounted:function(){var e=this;this.setHoverColor().then((function(){e.drawCircle(e.currentValue)}))},destroyed:function(){this.clearInterval()},methods:{getContext:function(){var e=this,t=(this.type,this.size,function(){var t=uni.createCanvasContext(e.circleId,e);return Promise.resolve(t)});return t()},setHoverColor:function(){var e=this,t=this.color,n=this.size;return(0,a.isObj)(t)?this.getContext().then((function(r){var a=r.createLinearGradient(n,0,0,0);Object.keys(t).sort((function(e,t){return parseFloat(e)-parseFloat(t)})).map((function(e){return a.addColorStop(parseFloat(e)/100,t[e])})),e.hoverColor=a})):(this.hoverColor=t,Promise.resolve())},presetCanvas:function(e,t,n,r,a){var i=this.strokeWidth,c=this.lineCap,l=this.clockwise,o=this.size,u=o/2,s=u-i/2;e.setStrokeStyle(t),e.setLineWidth(i),e.setLineCap(c),e.beginPath(),e.arc(u,u,s,n,r,!l),e.stroke(),a&&(e.setFillStyle(a),e.fill())},renderLayerCircle:function(e){var t=this.layerColor,n=this.fill;this.presetCanvas(e,t,0,l,n)},renderHoverCircle:function(e,t){var n=this.clockwise,r=this.hoverColor,a=l*(t/100),i=n?o+a:3*Math.PI-(o+a);this.presetCanvas(e,r,o,i)},drawCircle:function(e){var t=this,n=this.size;this.getContext().then((function(r){r.clearRect(0,0,n,n),t.renderLayerCircle(r);var a=c(e);0!==a&&t.renderHoverCircle(r,a),r.draw()}))},reRender:function(){var e=this,t=this.value,n=this.speed;n<=0||n>1e3?this.drawCircle(t):(this.clearInterval(),this.currentValue=this.currentValue||0,this.interval=setInterval((function(){e.currentValue!==t?(e.currentValue<t?e.currentValue+=u:e.currentValue-=u,e.drawCircle(e.currentValue)):e.clearInterval()}),1e3/n))},clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.interval&&(clearInterval(this.interval),this.interval=null)}))}});t.default=s},"3cea":function(e,t,n){"use strict";var r=n("7417"),a=n.n(r);a.a},"4d54":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"van-circle"},[n("v-uni-canvas",{staticClass:"van-circle__canvas",style:{width:e.size+"px",height:e.size+"px"},attrs:{type:e.type,id:e.circleId,"canvas-id":e.circleId}}),e.text?n("v-uni-cover-view",{staticClass:"van-circle__text"},[e._v(e._s(e.text))]):n("v-uni-view",{staticClass:"van-circle__text"},[e._t("default")],2)],1)},i=[]},"53ca":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},"59b1":function(e,t,n){var r=n("cf6e");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("578bb9e2",r,!0,{sourceMap:!1,shadowMode:!1})},"61f4":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var r={demoBlock:n("e29a").default,vanCircle:n("e091").default,vanButton:n("9e06").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("demo-block",{attrs:{title:"基础用法"}},[n("van-circle",{attrs:{"circle-id":"circle1",type:"2d",text:e.value+"%"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),n("demo-block",{attrs:{title:"样式定制"}},[n("van-circle",{attrs:{"circle-id":"circle2","stroke-width":6,text:"宽度定制"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("van-circle",{attrs:{"circle-id":"circle3","layer-color":"#eeeeee",color:"#ee0a24",text:"颜色定制"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("van-circle",{attrs:{"circle-id":"circle4",color:e.gradientColor,text:"渐变色"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("van-circle",{attrs:{"circle-id":"circle5",color:"#07c160",clockwise:!1,text:"逆时针"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("van-circle",{attrs:{"circle-id":"circle6",size:"120",text:"大小定制"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),n("van-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.run(10)}}},[e._v("增加")]),n("van-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.run(-10)}}},[e._v("减少")]),n("demo-block",{attrs:{title:"修改颜色"}},[n("van-circle",{attrs:{"circle-id":"circle7",type:"2d",text:e.value+"%",color:e.color},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("van-circle",{attrs:{"circle-id":"circle8",text:e.value+"%",color:e.color},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._l(e.colorList,(function(t,r){return n("van-button",{key:r,attrs:{color:t},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.changeColor(t)}}},[e._v(e._s(t))])}))],2)},i=[]},7417:function(e,t,n){var r=n("cab8");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("53fa4008",r,!0,{sourceMap:!1,shadowMode:!1})},"82c5":function(e,t,n){"use strict";n.r(t);var r=n("61f4"),a=n("a0c7");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("3cea");var c,l=n("f0c5"),o=Object(l["a"])(a["default"],r["b"],r["c"],!1,null,"ca5ecf74",null,!1,r["a"],c);t["default"]=o.exports},"94db":function(e,t,n){"use strict";n.r(t);var r=n("1bb9"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},a0c7:function(e,t,n){"use strict";n.r(t);var r=n("a18d"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},a18d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return Math.min(Math.max(e,0),100)},a={data:function(){return{value:25,gradientColor:{"0%":"#ffd01e","100%":"#ee0a24"},color:"#fa541c",colorList:["#fa541c","#13c2c2","#722ed1","#eb2f96"]}},methods:{run:function(e){this.value=r(this.value+=e)},changeColor:function(e){this.color=e}}};t.default=a},cab8:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".van-circle[data-v-ca5ecf74]{margin:5px 10px 20px}.van-button[data-v-ca5ecf74]{margin-left:10px}",""]),e.exports=t},cd99:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.isDef=i,t.isObj=c,t.isNumber=l,t.range=o,t.nextTick=u,t.getSystemInfoSync=f,t.addUnit=d;var a=r(n("53ca"));function i(e){return void 0!==e&&null!==e}function c(e){var t=(0,a.default)(e);return null!==e&&("object"===t||"function"===t)}function l(e){return/^\d+(\.\d+)?$/.test(e)}function o(e,t,n){return Math.min(Math.max(e,t),n)}function u(e){setTimeout((function(){e()}),1e3/30)}var s=null;function f(){return null==s&&(s=uni.getSystemInfoSync()),s}function d(e){if(i(e))return e=String(e),l(e)?"".concat(e,"px"):e}},cf6e:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".van-circle[data-v-22c9c3a8]{position:relative;display:inline-block;text-align:center}.van-circle__text[data-v-22c9c3a8]{position:absolute;top:50%;left:0;width:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%);background-color:initial;color:#323233;color:var(--circle-text-color,#323233)}",""]),e.exports=t},e091:function(e,t,n){"use strict";n.r(t);var r=n("4d54"),a=n("94db");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("ea43");var c,l=n("f0c5"),o=Object(l["a"])(a["default"],r["b"],r["c"],!1,null,"22c9c3a8",null,!1,r["a"],c);t["default"]=o.exports},ea43:function(e,t,n){"use strict";var r=n("59b1"),a=n.n(r);a.a}}]);